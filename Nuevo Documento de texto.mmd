classDiagram
    class User {
        -id: uuid
        +createFamily()
    }

    class Family {
        -id: bigint
        -name: string
        -created_by: uuid
        -created_at: timestamp
        +addChild()
        +addActivity()
        +addDocument()
    }

    class Child {
        -id: bigint
        -family_id: bigint
        -name: string
        -birthdate: date
        -grade: string
        -allergies: string
        -medical_notes: string
        -photo_url: string
        -notes: string
        -created_at: timestamp
        +getActivities()
        +getAttendance()
    }

    class Activity {
        -id: bigint
        -family_id: bigint
        -child_id: bigint
        -title: string
        -description: string
        -place: string
        -teacher_name: string
        -teacher_phone: string
        -teacher_email: string
        -weekday: string
        -start_time: time
        -end_time: time
        -is_weekend: boolean
        -is_match: boolean
        -match_location: string
        -match_opponent: string
        -fee: numeric
        -frequency: string
        -active: boolean
        -notes: string
        -created_at: timestamp
        +getAttendanceRecords()
        +calculateDuration()
    }

    class Attendance {
        -id: bigint
        -activity_id: bigint
        -child_id: bigint
        -attended: boolean
        -attended_date: date
        -notes: string
        -created_at: timestamp
        +markAttended()
        +markAbsent()
    }

    class Document {
        -id: bigint
        -family_id: bigint
        -child_id: bigint
        -activity_id: bigint
        -doc_type: string
        -title: string
        -file_url: string
        -uploaded_at: timestamp
        +upload()
        +download()
    }

    User "1" --> "1..*" Family: creates
    Family "1" --> "1..*" Child: contains
    Family "1" --> "1..*" Activity: has
    Family "1" --> "1..*" Document: manages
    Child "1" --> "0..*" Activity: participates_in
    Child "1" --> "0..*" Attendance: has_record
    Activity "1" --> "0..*" Attendance: tracks
    Activity "1" --> "0..*" Document: has_documents
    Child "1" --> "0..*" Document: associated_with
